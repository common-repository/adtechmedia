var serviceWorkerOption = {"assets":["./atm.min.js"]};
        
        !function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="","undefined"!=typeof window&&(window.__DEEP_CFG__={identityPoolId:"us-east-1:0bc53a62-637e-4b9f-a271-d027934c5660",identityProviders:{"cognito-idp.us-east-1.amazonaws.com/us-east-1_UNjSDsf6N":{UserPoolId:"us-east-1_UNjSDsf6N",ClientId:"6r5nv8t50sa46lrpdfgnuego3f",Clients:{system:"6r5nv8t50sa46lrpdfgnuego3f"}}},microservices:{"atm-admin":{resources:{property:{create:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/property/create"}},delete:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/property/delete"}},retrieve:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/property/retrieve"}},update:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/property/update"}},"update-config":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/property/update-config"}},"supported-countries":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/property/supported-countries"}}},content:{create:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/create"}},delete:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/delete"}},retrieve:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/retrieve"}},"retrieve-native":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/retrieve-native"}},update:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/update"}},"store-bought":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/store-bought"}},"transfer-bought":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/transfer-bought"}},"retrieve-bought":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/retrieve-bought"}},"retrieve-all-bought":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/retrieve-all-bought"}},"delete-bought":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/delete-bought"}},"delete-all-bought":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/delete-all-bought"}},"count-bought":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/content/count-bought"}}},"api-gateway-plan":{},"api-gateway-key":{create:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/api-gateway-key/create"}},delete:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/api-gateway-key/delete"}},update:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/api-gateway-key/update"}}},"email-template":{create:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/email-template/create"}},delete:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/email-template/delete"}},retrieve:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/email-template/retrieve"}},update:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/email-template/update"}},render:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-admin/email-template/render"}}},dns:{}}},"atm-core":{resources:{user:{retrieve:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-core/user/retrieve"}},"send-tmp-code":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-core/user/send-tmp-code"}},connect:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-core/user/connect"}}},trigger:{},payment:{"patch-customer":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-core/payment/patch-customer"}},"get-user-payment":{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-core/payment/get-user-payment"}},pay:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-core/payment/pay"}},refund:{scope:"public",source:{api:"https://yiku4x6qji.execute-api.us-east-1.amazonaws.com/dev/atm-core/payment/refund"}}}}},"deep-microservices-stripe":{parameters:{publishableKey:"pk_test_hrhVb5e58IyDqlnP2KvvU6MY"}}},kinesisEventStream:"arn:aws:kinesis:us-east-1:722084099005:stream/cd50c1f5cec75e7743bf288c5c6d6dc0-dev"}),t(0)}([function(e,t,i){(function(e){function t(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(){if(s){for(var e,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=console).log.apply(e,["[ATM SW]"].concat(i))}}function a(e,t,i){return n("start fetching "+i.url),fetch(i).then(function(a){if(!a||200!==a.status||"error"===a.type)return n("bad response for "+i.url,a,i),a;var r=a.clone();n("update caches for "+i.url);try{if(!e.cache)throw new Error("worker's cache is not initialized");e.cache.put(t.request,r)}catch(e){n("update caches failed for "+i.url,e)}return a})}var r=i(1),s="localhost"===location.hostname.toLowerCase(),o=new r.ServiceWorkerRuntime(self),c=["localhost:8000","www.adtechmedia.io","demo.adtechmedia.io","adm.adtechmedia.io","api.adtechmedia.io","api-dev.adtechmedia.io"],u=c.map(function(e){return"https://"+e}).concat(c.map(function(e){return"http://"+e}));n.apply(void 0,["allowed origins"].concat(t(u))),o.on(r.ServiceWorkerRuntime.INSTALL,function(){return n("installed")}),o.on(r.ServiceWorkerRuntime.ACTIVATE,function(){return n("activated")}),o.on(r.ServiceWorkerRuntime.INVALIDATE_CACHE,function(){return n("'"+o.cacheName+"' cache invalidated")}),o.on(r.ServiceWorkerRuntime.ADD_TO_CACHE,function(e){return n.apply(void 0,["assets added to cache"].concat(t(e)))}),o.on(r.ServiceWorkerRuntime.MESSAGE,function(e,t){switch(n("message received:",e,"-->",t),e.toLowerCase()){case"origin":u.push(t.toString());break;case"debug":s=!!t}}),o.on(r.ServiceWorkerRuntime.FETCH,function(t){var i=t.request.clone();if("GET"===i.method){var r=new URL(i.url);u.indexOf(r.origin)!==-1&&(n("managing request to "+i.url),t.respondWith(e.caches.match(t.request).then(function(e){return e?(n("cached response for "+i.url),a(o,t,i),e):a(o,t,i)})))}}),o.register().catch(function(e){return n("Error",e)})}).call(t,function(){return this}())},function(e,t,i){(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceWorkerRuntime=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2);t.ServiceWorkerRuntime=function(t){function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.CACHE_NAME;n(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return r.context=e,r.cacheName=t,r.cache=null,r}return r(i,t),s(i,[{key:"register",value:function(){var e=this;return new Promise(function(t){e.once(i.ACTIVATE,t),e._registerInstall(),e._registerMsg(),e._registerFetch(),e._registerActivate()})}},{key:"_registerInstall",value:function(){var e=this;this.context.addEventListener(i.INSTALL,function(t){"function"==typeof e.context.skipWaiting&&e.context.skipWaiting(),e.emit(i.INSTALL,t)})}},{key:"_registerMsg",value:function(){var e=this;this.context.addEventListener(i.MESSAGE,function(t){var n={action:null};try{n=JSON.parse(t.data)}catch(e){}switch(n.action.toLowerCase()){case i.INVALIDATE_CACHE:t.waitUntil(e._reloadCache(!0));break;case i.ADD_TO_CACHE:if(n.payload){var a="string"==typeof n.payload?[n.payload]:n.payload;e.cache.addAll(a),e.emit(i.ADD_TO_CACHE,a,t.waitUntil)}break;case i.MESSAGE:var r=n.payload||{};e.emit(i.MESSAGE,r.name||null,r.data||null,t.waitUntil)}})}},{key:"_registerFetch",value:function(){var e=this;this.context.addEventListener(i.FETCH,function(t){e.emit(i.FETCH,t)})}},{key:"_registerActivate",value:function(){var e=this;this.context.addEventListener(i.ACTIVATE,function(t){var n=e.context.clients&&"function"==typeof e.context.clients.claim,a=n?e.context.clients.claim():Promise.resolve();t.waitUntil(a.then(function(){return e._reloadCache()}).then(function(){return e.emit(i.ACTIVATE,t),Promise.resolve()}))})}},{key:"_reloadCache",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.caches.keys().then(function(i){var a=i.filter(function(e){return n||e!==t.cacheName}).map(function(t){return e.caches.delete(t)});return Promise.all(a)}).then(function(){return e.caches.open(t.cacheName)}).then(function(e){t.cache=e,t.emit(i.INVALIDATE_CACHE)})}}],[{key:"INVALIDATE_CACHE",get:function(){return"invalidate-cache"}},{key:"ADD_TO_CACHE",get:function(){return"add-to-cache"}},{key:"MESSAGE",get:function(){return"message"}},{key:"FETCH",get:function(){return"fetch"}},{key:"INSTALL",get:function(){return"install"}},{key:"ACTIVATE",get:function(){return"activate"}},{key:"CACHE_NAME",get:function(){return"atm-sw-cache"}}]),i}(o.EventEmitter)}).call(t,function(){return this}())},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var p=new Error('Uncaught, unspecified "error" event. ('+t+")");throw p.context=t,p}if(i=this._events[e],s(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(r(i))for(o=Array.prototype.slice.call(arguments,1),u=i.slice(),a=u.length,c=0;c<a;c++)u[c].apply(this,o);return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,a,s,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(o=s;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){a=o;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}}]);
//# sourceMappingURL=sw.min.js.map